<!DOCTYPE html>
<html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<title>Z3R0</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content="">
<meta name="author" content="Alex Stelea">

<!-- Le styles -->
<link href="css/bootstrap.css" rel="stylesheet">
<link rel="stylesheet" type="text/css" href="css/overrides.css">
<link rel="stylesheet" href="css/jquery-jvectormap-1.2.2.css" type="text/css" media="screen"/>
<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.7/jquery.min.js"></script>


<script type="text/javascript" src="http://maps.google.com/maps/api/js?sensor=true"></script>
<script src="js/world.js"></script>
<script>

function findOnMap(){

  var geocoder = new google.maps.Geocoder();

  var address = document.getElementById("latlon").value;
  console.log(address);
  geocoder.geocode( { 'address': address}, function(results, status) {
    if (status == google.maps.GeocoderStatus.OK)
    {
      console.log(results[0]);
      var mapObject = $('#world-map').vectorMap('get', 'mapObject');
      mapObject.setFocusLatLng(8,results[0].geometry.location.pb , results[0].geometry.location.qb);


    }
  });

  

  }
</script>

<link href="css/bootstrap-responsive.css" rel="stylesheet">

</head>

<body style="zoom: 1;">

  <div class="navbar navbar-inverse navbar-fixed-top">
    <div class="navbar-inner">
      <div class="container">
        <button type="button" class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="brand" href="#">Z3RO</a>
        <div class="nav-collapse collapse">
          <ul class="nav">
            <li class="active"><a href="#">Map</a></li>
          </ul>
          <form action="javascript:findOnMap();" class="navbar-search pull-right latlon-form">
            <input type="text" class="span4 search-query" id="latlon" placeholder="Search">

          </form>
        </div><!--/.nav-collapse -->
      </div>
    </div>
  </div>


  <div class="container-fluid wrapper">

    <p style="margin-left: 20px; margin-top:30px; text-align: center;color: grey; ">Click on a country to view trends over time and relevant education policy interventions</p>

    <div id="world-map" style="width:100%; height: 100%;"></div>



  </div> <!-- /container -->


<!-- Le javascript
  ================================================== -->
  <!-- Placed at the end of the document so the pages load faster -->
  <script src="./index_files/jquery.js"></script>
  <script src="./index_files/bootstrap-transition.js"></script>
  <script src="./index_files/bootstrap-alert.js"></script>
  <script src="./index_files/bootstrap-modal.js"></script>
  <script src="./index_files/bootstrap-dropdown.js"></script>
  <script src="./index_files/bootstrap-scrollspy.js"></script>
  <script src="./index_files/bootstrap-tab.js"></script>
  <script src="./index_files/bootstrap-tooltip.js"></script>
  <script src="./index_files/bootstrap-popover.js"></script>
  <script src="./index_files/bootstrap-button.js"></script>
  <script src="./index_files/bootstrap-collapse.js"></script>
  <script src="./index_files/bootstrap-carousel.js"></script>
  <script src="./index_files/bootstrap-typeahead.js"></script>
<script src="js/jquery-jvectormap-1.2.2.min.js"></script>
<script src="js/jquery-jvectormap-world-mill-en.js"></script>
  <script>
  var rateData = {
    "AG": 97.68504,
    "AQ": 93.35028,
    "AO": 85.65094,
    "AC": 86.00456,
    "AA": 99.69506,
    "AS": 97.19656,
    "AJ": 87.26808,
    "BF": 97.79026,
    "BO": 91.66823,
    "BE": 99.07387,
    "BH": 97.42418,
    "BD": 90.89595,
    "BT": 90.22048,
    "BL": 91.35203,
    "BK": 89.87537,
    "BU": 99.50663,
    "UV": 64.47442,
    "CB": 98.24667,
    "CM": 93.54099,
    "CV": 93.75227,
    "CJ": 90.05023,
    "CF": 92.55506,
    "CR": 99.08600,
    "HR": 95.86382,
    "CU": 98.36273,
    "CY": 99.28487,
    "DA": 95.82263,
    "DJ": 54.15378,
    "DR": 92.16524,
    "EG": 97.78876,
    "ES": 95.82473,
    "EK": 58.93599,
    "ER": 36.89252,
    "EN": 97.33384,
    "ET": 87.42659,
    "FJ": 99.01366,
    "FI": 97.97438,
    "FR": 99.14573,
    "GA": 69.54649,
    "GG": 98.44162,
    "GM": 99.76082,
    "GH": 82.60875,
    "GR": 99.04522,
    "GT": 98.02285,
    "GV": 82.95876,
    "PU": 74.9957,
    "GY": 82.68872,
    "HO": 97.26015,
    "HK": 97.23308,
    "HU": 97.71261,
    "IC": 99.01521,
    "IN": 98.64584,
    "ID": 98.98814,
    "IR": 99.85232,
    "EI": 99.70381,
    "IS": 97.38998,
    "IT": 99.09596,
    "JM": 82.37867,
    "JA": 99.97142,
    "JO": 90.71775,
    "KZ": 99.57536,
    "KS": 98.87213,
    "KG": 96.06251,
    "LA": 97.35163,
    "LE": 97.05746,
    "LT": 74.99947,
    "LI": 41.10318,
    "DZ": 94.3662,
    "LS": 98.69724,
    "LH": 93.54938,
    "LU": 94.6252,
    "MK": 98.20113,
    "MV": 94.58015,
    "ML": 67.18966,
    "MT": 93.81297,
    "RM": 99.40337,
    "MR": 75.31948,
    "MX": 99.472,
    "MD": 90.5779,
    "MG": 98.79477,
    "MJ": 93.69336,
    "MO": 96.49268,
    "MZ": 90.57897,
    "WA": 86.10983,
    "NL": 99.9778,
    "NZ": 99.46741,
    "NU": 93.86945,
    "NG": 65.70859,
    "NI": 57.55225,
    "NO": 99.14498,
    "MU": 97.64795,
    "MW": 71.16301,
    "PK": 72.14592,
    "PM": 97.5077,
    "PA": 84.18588,
    "PE": 97.12997,
    "PL": 96.79033,
    "PO": 99.35998,
    "RQ": 83.11714,
    "QA": 94.92783,
    "RO": 87.58664,
    "RW": 98.74732,
    "TP": 98.63822,
    "SA": 96.57484,
    "SG": 78.86015,
    "RI": 94.48253,
    "SI": 97.79589,
    "KH": 89.90776,
    "BP": 87.50456,
    "SP": 99.71503,
    "CE": 92.96433,
    "ST": 88.10274,
    "SC": 87.31759,
    "VC": 98.48239,
    "NS": 92.8397,
    "SW": 99.46064,
    "SZ": 99.54102,
    "SY": 99.60136,
    "TI": 97.63237,
    "TT": 90.93355,
    "TD": 97.38833,
    "TS": 99.41563,
    "TU": 98.92401,
    "UG": 93.86056,
    "UP": 92.11341,
    "UK": 99.70888,
    "US": 95.73804,
    "UY": 99.83441,
    "UZ": 92.78716,
    "VE": 94.79147,
    "VM": 99.41693,
    "YM": 76.39072,
    "ZA": 97.24901

  };
  $(function(){

    $('#world-map').vectorMap({

      map: 'world_mill_en',
      backgroundColor: '#8c97a4',
      markerStyle: {
        initial: {
          fill: '#F8E23B',
          stroke: '#383f47'
        }
      },
      hoverOpacity: 0.7,
      hoverColor: false,
      regionsSelectable: true,
      regionsSelectableOne: true,

      focusOn: 
      {
        x: 0.5,
        y: 0.5,
        scale: 1.5
      },
      series: {
        regions: [{
          values: rateData,
          scale: ['#C8EEFF', '#0071A4'],
          normalizeFunction: 'polynomial'
        }]
      },
      onRegionLabelShow: function(e, el, code){
        if (rateData[code] == undefined){
          rateData[code] = "N/A";
        }
        el.html(el.html()+' (Primary School Completion Rate - '+'<strong>'+rateData[code]+'</strong>)');
      },
      onRegionClick: function(event, code){
        if (code == "CR") {
          window.location.href = "costarica.html";
        }
        if (code == "KH") {
          window.location.href = "cambodia.html";
        }
        if (code == "MW") {
          window.location.href = "malawi.html";
        }
      }
    });
 var mapObject = $('#world-map').vectorMap('get', 'mapObject');
mapObject.setFocusLatLng = function(scale, lat, lng){
        var point,
            proj = jvm.WorldMap.maps[this.params.map].projection,
            centralMeridian = proj.centralMeridian,
            width = this.width - this.baseTransX * 2 * this.baseScale,
            height = this.height - this.baseTransY * 2 * this.baseScale,
            inset,
            bbox,
            scaleFactor = this.scale / this.baseScale,
            centerX,
            centerY;

        if (lng < (-180 + centralMeridian)) {
            lng += 360;
        }

        point = jvm.Proj[proj.type](lat, lng, centralMeridian);

        inset = this.getInsetForPoint(point.x, point.y);
        if (inset) {
            bbox = inset.bbox;

            centerX = (point.x - bbox[0].x) / (bbox[1].x - bbox[0].x);
            centerY = (point.y - bbox[0].y) / (bbox[1].y - bbox[0].y);

            this.setFocus(scale, centerX, centerY);
        }
    }
});

</script>



</body></html>